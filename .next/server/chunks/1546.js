exports.id=1546,exports.ids=[1546],exports.modules={23568:e=>{e.exports={adminLayout:"AdminLayout_adminLayout__9cYWD",sidebar:"AdminLayout_sidebar__7GhkI",logo:"AdminLayout_logo__OD9sx",nav:"AdminLayout_nav__G5l8_",navItem:"AdminLayout_navItem__pbDDU",active:"AdminLayout_active__5_0gP",sidebarFooter:"AdminLayout_sidebarFooter__lrBXK",signOutButton:"AdminLayout_signOutButton__6B0_k",main:"AdminLayout_main__y1wRM",header:"AdminLayout_header__Is4Ky",pageTitle:"AdminLayout_pageTitle__GNDSA",userInfo:"AdminLayout_userInfo__CFAWx",userName:"AdminLayout_userName___1MJG",userEmail:"AdminLayout_userEmail__qxuGx",content:"AdminLayout_content__WpNpN",loadingContainer:"AdminLayout_loadingContainer__hedZt",spinner:"AdminLayout_spinner__cLKGy",spin:"AdminLayout_spin__PeL6b"}},79046:(e,s,a)=>{"use strict";a.d(s,{Z:()=>h});var t=a(20997),n=a(16689),i=a(41649),r=a(11163),o=a(41664),d=a.n(o),c=a(23568),l=a.n(c);let h=({children:e})=>{let{data:s,status:a}=(0,i.useSession)(),[o,c]=(0,n.useState)(!0),[h,m]=(0,n.useState)(!1),x=(0,r.useRouter)();return((0,n.useEffect)(()=>{(async function(){if(!await (0,i.getSession)()){x.replace("/auth/signin?callbackUrl="+x.asPath);return}try{let e=await fetch("/api/admin/check-admin");if(!(await e.json()).isAdmin){x.replace("/");return}m(!0),c(!1)}catch(e){console.error("Error checking admin status:",e),x.replace("/")}})()},[x]),o)?(0,t.jsxs)("div",{className:l().loadingContainer,children:[t.jsx("div",{className:l().spinner}),t.jsx("p",{children:"Loading..."})]}):h?(0,t.jsxs)("div",{className:l().adminLayout,children:[(0,t.jsxs)("aside",{className:l().sidebar,children:[t.jsx("div",{className:l().logo,children:t.jsx(d(),{href:"/admin",children:"MDTS Admin"})}),(0,t.jsxs)("nav",{className:l().nav,children:[(0,t.jsxs)(d(),{href:"/admin",className:`${l().navItem} ${"/admin"===x.pathname?l().active:""}`,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Dashboard"]}),(0,t.jsxs)(d(),{href:"/admin/products",className:`${l().navItem} ${x.pathname.startsWith("/admin/products")?l().active:""}`,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Products"]}),(0,t.jsxs)(d(),{href:"/admin/orders",className:`${l().navItem} ${x.pathname.startsWith("/admin/orders")?l().active:""}`,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2H2v10h10V2z"}),t.jsx("path",{d:"M12 12H2v10h10V12z"}),t.jsx("path",{d:"M22 2h-10v10h10V2z"}),t.jsx("path",{d:"M22 12h-10v10h10V12z"})]}),"Orders"]}),(0,t.jsxs)(d(),{href:"/admin/customers",className:`${l().navItem} ${x.pathname.startsWith("/admin/customers")?l().active:""}`,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Customers"]}),(0,t.jsxs)(d(),{href:"/admin/marketplace",className:`${l().navItem} ${x.pathname.startsWith("/admin/marketplace")?l().active:""}`,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),t.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}),t.jsx("path",{d:"M6 11h4"}),t.jsx("path",{d:"M14 11h4"})]}),"Marketplace"]}),(0,t.jsxs)(d(),{href:"/admin/settings",className:`${l().navItem} ${x.pathname.startsWith("/admin/settings")?l().active:""}`,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Settings"]})]}),t.jsx("div",{className:l().sidebarFooter,children:(0,t.jsxs)("button",{onClick:()=>{(0,i.signOut)({callbackUrl:"/"})},className:l().signOutButton,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})})]}),(0,t.jsxs)("main",{className:l().main,children:[(0,t.jsxs)("header",{className:l().header,children:[t.jsx("div",{className:l().headerLeft,children:(0,t.jsxs)("h1",{className:l().pageTitle,children:["/admin"===x.pathname&&"Dashboard","/admin/products"===x.pathname&&"Products","/admin/orders"===x.pathname&&"Orders","/admin/customers"===x.pathname&&"Customers","/admin/marketplace"===x.pathname&&"Marketplace Integration","/admin/settings"===x.pathname&&"Settings"]})}),t.jsx("div",{className:l().headerRight,children:(0,t.jsxs)("div",{className:l().userInfo,children:[t.jsx("span",{className:l().userName,children:s?.user?.name||"Admin"}),t.jsx("span",{className:l().userEmail,children:s?.user?.email||"admin@midastechnical.com"})]})})]}),t.jsx("div",{className:l().content,children:e})]})]}):null}},43414:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(20997);a(16689);var n=a(41649),i=a(40968),r=a.n(i);function o({Component:e,pageProps:s}){return(0,t.jsxs)("div",{className:"app-wrapper",children:[(0,t.jsxs)(r(),{children:[t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{name:"theme-color",content:"#0066cc"}),t.jsx("link",{rel:"manifest",href:"/manifest.json"}),t.jsx("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),t.jsx("link",{rel:"apple-touch-icon",href:"/icons/icon-192x192.svg"}),t.jsx("link",{rel:"shortcut icon",href:"/favicon.ico"})]}),t.jsx("main",{children:t.jsx(e,{...s})})]})}let d=function({Component:e,pageProps:{session:s,...a}}){return t.jsx(n.SessionProvider,{session:s,children:t.jsx(o,{Component:e,pageProps:a})})}},65949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(20997),n=a(56859),i=a.n(n);class r extends i(){render(){return(0,t.jsxs)(n.Html,{children:[(0,t.jsxs)(n.Head,{children:[t.jsx("meta",{name:"application-name",content:"Midas Technical Solutions"}),t.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),t.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),t.jsx("meta",{name:"apple-mobile-web-app-title",content:"MDTS"}),t.jsx("meta",{name:"description",content:"Your trusted source for mobile device parts and repair tools"}),t.jsx("meta",{name:"format-detection",content:"telephone=no"}),t.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),t.jsx("meta",{name:"theme-color",content:"#d4af37"}),t.jsx("link",{rel:"apple-touch-icon",href:"/icons/mdts-icon.svg"}),t.jsx("link",{rel:"manifest",href:"/manifest.json"}),t.jsx("link",{rel:"shortcut icon",href:"/icons/mdts-icon.svg"})]}),(0,t.jsxs)("body",{children:[t.jsx(n.Main,{}),t.jsx(n.NextScript,{})]})]})}}let o=r}};