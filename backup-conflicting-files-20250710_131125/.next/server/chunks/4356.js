exports.id=4356,exports.ids=[4356],exports.modules={3827:t=>{t.exports={productList:"ProductList_productList__e7F09",container:"ProductList_container__Y8Ikq",title:"ProductList_title__5nv2l",subtitle:"ProductList_subtitle__6qBiW",categories:"ProductList_categories__YKbrV",categoryButton:"ProductList_categoryButton__t5avI",active:"ProductList_active__lyTi_",products:"ProductList_products__COjlj",product:"ProductList_product__R4OD6",imageContainer:"ProductList_imageContainer__PW2P0",image:"ProductList_image__z3N2X",content:"ProductList_content__4Fca5",category:"ProductList_category__BcTtk",name:"ProductList_name__YIS3S",price:"ProductList_price__M48zy",addToCart:"ProductList_addToCart__JY4jE",viewMore:"ProductList_viewMore__qSnKY",viewMoreLink:"ProductList_viewMoreLink__0D9bK"}},70281:t=>{t.exports={quantitySelector:"QuantitySelector_quantitySelector__quwG9",button:"QuantitySelector_button__f7P5N",input:"QuantitySelector_input__za5C8"}},24356:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>_});var s=a(20997),i=a(16689);a(25675);var r=a(41664),c=a.n(r),o=a(70281),n=a.n(o);let d=({initialValue:t=1,min:e=1,max:a=99,onChange:r})=>{let[c,o]=(0,i.useState)(t);return(0,s.jsxs)("div",{className:n().quantitySelector,children:[s.jsx("button",{className:n().button,onClick:()=>{if(c>e){let t=c-1;o(t),r&&r(t)}},disabled:c<=e,children:"-"}),s.jsx("input",{type:"text",value:c,onChange:t=>{let s=parseInt(t.target.value,10);!isNaN(s)&&s>=e&&s<=a&&(o(s),r&&r(s))},className:n().input}),s.jsx("button",{className:n().button,onClick:()=>{if(c<a){let t=c+1;o(t),r&&r(t)}},disabled:c>=a,children:"+"})]})};var l=a(3827),u=a.n(l);let _=({products:t,title:e="Popular Products"})=>{let[a,r]=(0,i.useState)(t.reduce((t,e)=>(t[e.id]=1,t),{})),o=(t,e)=>{r(a=>({...a,[t]:e}))},n=async t=>{try{if(!(await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t,quantity:a[t]})})).ok)throw Error("Failed to add to cart");alert(`Successfully added ${a[t]} of product ID ${t} to cart`)}catch(t){console.error("Error adding to cart:",t),alert("Failed to add to cart. Please try again.")}};return s.jsx("section",{className:u().productList,children:(0,s.jsxs)("div",{className:u().container,children:[s.jsx("h2",{className:u().title,children:e}),s.jsx("p",{className:u().subtitle,children:"Browse our selection of high-quality repair parts and tools"}),(0,s.jsxs)("div",{className:u().categories,children:[s.jsx("button",{className:`${u().categoryButton} ${u().active}`,children:"All"}),s.jsx("button",{className:u().categoryButton,children:"iPhone Parts"}),s.jsx("button",{className:u().categoryButton,children:"Samsung Parts"}),s.jsx("button",{className:u().categoryButton,children:"iPad Parts"}),s.jsx("button",{className:u().categoryButton,children:"Tools"})]}),s.jsx("div",{className:u().products,children:t.map(t=>(0,s.jsxs)("div",{className:u().product,children:[s.jsx("div",{className:u().imageContainer,children:s.jsx("img",{src:t.imageUrl||"/images/placeholder.png",alt:t.name,className:u().image})}),(0,s.jsxs)("div",{className:u().content,children:[s.jsx("div",{className:u().category,children:t.category}),s.jsx("h3",{className:u().name,children:t.name}),s.jsx("div",{className:u().price,children:t.discount_percentage>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:u().originalPrice,children:["$",(t.price/(1-t.discount_percentage/100)).toFixed(2)]}),(0,s.jsxs)("span",{className:u().salePrice,children:["$",t.price.toFixed(2)]})]}):(0,s.jsxs)("span",{children:["$",t.price.toFixed(2)]})}),s.jsx(d,{initialValue:a[t.id],onChange:e=>o(t.id,e)}),s.jsx("button",{className:u().addToCart,onClick:()=>n(t.id),children:"Add to Cart"})]})]},t.id))}),s.jsx("div",{className:u().viewMore,children:s.jsx(c(),{href:"/products",className:u().viewMoreLink,children:"View More Products"})})]})})}}};